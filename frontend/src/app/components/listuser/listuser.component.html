<div class="p-4 max-w-5xl mx-auto">
     <h2 class="text-2xl font-bold text-center mb-6">User List</h2>

     <div *ngFor="let user of users" class="mb-6 bg-white shadow-md rounded-xl p-4">
          <form [formGroup]="editForms[user._id!]">
               <div class="grid md:grid-cols-2 gap-4">
                    <!-- Name -->
                    <div class="w-full">
                         <label class="block text-gray-700 font-semibold">Name</label>
                         <input
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              formControlName="name" [readonly]="!editMode[user._id!]" placeholder="Enter name" />
                    </div>

                    <!-- Email -->
                    <div class="w-full">
                         <label class="block text-gray-700 font-semibold">Email</label>
                         <input
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              formControlName="email" [readonly]="!editMode[user._id!]" placeholder="Enter email" />
                    </div>

                    <!-- Age -->
                    <div class="w-full">
                         <label class="block text-gray-700 font-semibold">Age</label>
                         <input
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              formControlName="age" type="number" [readonly]="!editMode[user._id!]"
                              placeholder="Enter age" />
                    </div>

                    <!-- Address -->
                    <div class="w-full">
                         <label class="block text-gray-700 font-semibold">Address</label>
                         <input
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              formControlName="address" [readonly]="!editMode[user._id!]" placeholder="Enter address" />
                    </div>

                    <!-- Password -->
                    <div class="w-full">
                         <label class="block text-gray-700 font-semibold">Password</label>
                         <input
                              class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                              formControlName="password" type="password" [readonly]="!editMode[user._id!]"
                              placeholder="Enter password" />
                    </div>
               </div>

               <!-- Actions (Edit, Save, Delete) -->
               <div class="flex justify-end mt-4 gap-2">
                    <button type="button"
                         class="px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none"
                         *ngIf="!editMode[user._id!]" (click)="toggleEdit(user._id!)">
                         Edit
                    </button>

                    <button type="button"
                         class="px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none"
                         *ngIf="editMode[user._id!]" (click)="updateUser(user._id!)">
                         Save
                    </button>

                    <button type="button"
                         class="px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 focus:outline-none"
                         (click)="deleteUser(user._id!)">
                         Delete
                    </button>
               </div>
          </form>
     </div>
</div>