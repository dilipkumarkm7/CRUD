import{a as f,b as g,c as k,e as R,f as T,g as A,h as N,i as H,j as D,m as L,n as P,o as V,p as O,q as B,r as z,s as U}from"./chunk-DUH7VMEV.js";import{$ as u,E as v,F as b,Ka as M,La as S,Ma as w,T as s,Va as F,X as y,_ as I,ca as E,ga as a,ka as r,la as o,ma as h,na as x,oa as m,pa as c,va as l,y as d}from"./chunk-UOEDWB5D.js";var W=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=u({type:t});static \u0275inj=d({imports:[f,f]})}return t})();var j=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=u({type:t});static \u0275inj=d({})}return t})();var $=(()=>{class t{static \u0275fac=function(i){return new(i||t)};static \u0275mod=u({type:t});static \u0275inj=d({imports:[f,g,g,j,f]})}return t})();function Y(t,n){if(t&1){let e=x();r(0,"button",17),m("click",function(){v(e);let p=c().$implicit,_=c();return b(_.toggleEdit(p._id))}),l(1," Edit "),o()}}function X(t,n){if(t&1){let e=x();r(0,"button",18),m("click",function(){v(e);let p=c().$implicit,_=c();return b(_.updateUser(p._id))}),l(1," Save "),o()}}function J(t,n){if(t&1){let e=x();r(0,"div",3)(1,"form",4)(2,"div",5)(3,"div",6)(4,"label",7),l(5,"Name"),o(),h(6,"input",8),o(),r(7,"div",6)(8,"label",7),l(9,"Email"),o(),h(10,"input",9),o(),r(11,"div",6)(12,"label",7),l(13,"Age"),o(),h(14,"input",10),o(),r(15,"div",6)(16,"label",7),l(17,"Address"),o(),h(18,"input",11),o(),r(19,"div",6)(20,"label",7),l(21,"Password"),o(),h(22,"input",12),o()(),r(23,"div",13),E(24,Y,2,0,"button",14)(25,X,2,0,"button",15),r(26,"button",16),m("click",function(){let p=v(e).$implicit,_=c();return b(_.deleteUser(p._id))}),l(27," Delete "),o()()()()}if(t&2){let e=n.$implicit,i=c();s(),a("formGroup",i.editForms[e._id]),s(5),a("readonly",!i.editMode[e._id]),s(4),a("readonly",!i.editMode[e._id]),s(4),a("readonly",!i.editMode[e._id]),s(4),a("readonly",!i.editMode[e._id]),s(4),a("readonly",!i.editMode[e._id]),s(2),a("ngIf",!i.editMode[e._id]),s(),a("ngIf",i.editMode[e._id])}}var q=class t{constructor(n,e,i){this.userService=n;this.fb=e;this.snackbar=i}users=[];editMode={};editForms={};ngOnInit(){this.fetchUsers()}fetchUsers(){this.userService.getUsers().subscribe(n=>{this.users=n,this.users.forEach(e=>{this.editForms[e._id]=this.fb.group({name:[e.name],email:[e.email],age:[e.age],address:[e.address],password:[e.password]})})})}toggleEdit(n){this.editMode[n]=!this.editMode[n]}updateUser(n){let e=this.editForms[n].value;this.userService.updateUser(n,e).subscribe(()=>{this.snackbar.open("User updated!","Close",{duration:3e3}),this.editMode[n]=!1,this.fetchUsers()})}deleteUser(n){this.userService.deleteUser(n).subscribe(()=>{this.snackbar.open("User deleted!","Close",{duration:3e3}),this.fetchUsers()})}static \u0275fac=function(e){return new(e||t)(y(O),y(L),y(z))};static \u0275cmp=I({type:t,selectors:[["app-listuser"]],decls:4,vars:1,consts:[[1,"p-4","max-w-5xl","mx-auto"],[1,"text-2xl","font-bold","text-center","mb-6"],["class","mb-6 bg-white shadow-md rounded-xl p-4",4,"ngFor","ngForOf"],[1,"mb-6","bg-white","shadow-md","rounded-xl","p-4"],[3,"formGroup"],[1,"grid","md:grid-cols-2","gap-4"],[1,"w-full"],[1,"block","text-gray-700","font-semibold"],["formControlName","name","placeholder","Enter name",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"readonly"],["formControlName","email","placeholder","Enter email",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"readonly"],["formControlName","age","type","number","placeholder","Enter age",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"readonly"],["formControlName","address","placeholder","Enter address",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"readonly"],["formControlName","password","type","password","placeholder","Enter password",1,"w-full","px-4","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"readonly"],[1,"flex","justify-end","mt-4","gap-2"],["type","button","class","px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none",3,"click",4,"ngIf"],["type","button","class","px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 focus:outline-none",3,"click",4,"ngIf"],["type","button",1,"px-6","py-2","bg-red-500","text-white","rounded-lg","hover:bg-red-600","focus:outline-none",3,"click"],["type","button",1,"px-6","py-2","bg-blue-500","text-white","rounded-lg","hover:bg-blue-600","focus:outline-none",3,"click"],["type","button",1,"px-6","py-2","bg-green-500","text-white","rounded-lg","hover:bg-green-600","focus:outline-none",3,"click"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"h2",1),l(2,"User List"),o(),E(3,J,28,8,"div",2),o()),e&2&&(s(3),a("ngForOf",i.users))},dependencies:[W,w,M,S,F,P,A,k,N,R,T,V,H,D,$,g,B,U],styles:["[_nghost-%COMP%]{display:block}"]})};export{q as ListuserComponent};
